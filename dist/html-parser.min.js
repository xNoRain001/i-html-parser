!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).HTML=e()}(this,(function(){"use strict";var t={area:null,base:null,br:null,col:null,embed:null,hr:null,img:null,input:null,link:null,meta:null,param:null,source:null,track:null,wbr:null},e=/<[\s\S]*?>[^<]*/g,n="<!DOCTYPE html>",r=function(e){var n="",r=e.attrs,l=e.tagName,c=e.children,s=Object.keys(r),u=s.length?" ".concat(a(r,s)):"";if(n+="<".concat(l).concat(u,">"),!t.hasOwnProperty(l)){var o=c.length?i(e):"";n+="".concat(o,"</").concat(l,">")}return n},l=function(t){return t.text},a=function(t,e){for(var n="",r=0,l=e.length;r<l;r++){var a=e[r],i=t[a];n+="".concat(a,'="').concat(i,'" ')}return n.slice(0,-1)},i=function(t){for(var e="",n=t.children,a=0,i=n.length;a<i;a++){var c=n[a];"tag"===c.type?e+=r(c):e+=l(c)}return e};return{parse:function(r){(r=r.trim()).startsWith(n)&&(r=r.slice(n.length));for(var l={type:"root",attrs:{},parent:null,tagName:null,children:[]},a=r.match(e),i=[],c=l,s=function(){var e=a[u].trim();if(e.startsWith("</")){var n;c=c.parent;var r=null===(n=e.match(/<\/[a-z]+>\s*(.+)\s*/))||void 0===n?void 0:n[1];r&&c.children.push({type:"text",text:r})}else{var l=(e=e.slice(1)).match(/[^\s>]*/)[0],s={},o={type:"tag",attrs:s,parent:c,tagName:l,children:[]};if(">"!==(e=e.slice(l.length).trimStart()))if(e.startsWith(">"))o.children.push({type:"text",text:e.slice(1).trimStart()});else{var h=(e=e.replace(/\s*(.*?)=['"]\s*([\s\S]*?)\s*['"]/g,(function(t,e,n){var r=e.trimStart();return s[r]=n,""}))).match(/>([\s\S]*)/)[1];h&&o.children.push({type:"text",text:h})}c.children.push(o),i.push(o),t.hasOwnProperty(l)||(c=o)}},u=0,o=a.length;u<o;u++)s();return{ast:l,nodes:i}},stringify:i}}));
